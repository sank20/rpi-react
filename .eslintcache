[{"C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\index.js":"1","C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\App.js":"2","C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\reportWebVitals.js":"3","C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\DeleteButton.js":"4"},{"size":620,"mtime":1609792405170,"results":"5","hashOfConfig":"6"},{"size":10869,"mtime":1609886602622,"results":"7","hashOfConfig":"6"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"6"},{"size":3154,"mtime":1609796526756,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"z1giy6",{"filePath":"13","messages":"14","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"12"},"C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\index.js",[],["20","21"],"C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\App.js",["22","23","24","25","26","27","28","29"],"C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\reportWebVitals.js",[],"C:\\Users\\Sanket\\rpi-frontend\\rpi-react\\src\\DeleteButton.js",["30","31","32"],"import React, { Component } from \"react\";\r\n// import DropdownButton from \"react-bootstrap/DropdownButton\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\n\r\nclass DeleteButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      deleteLabel: \"Select file to delete ->\",\r\n      fileDropDownList: [],\r\n      deleteFileName: null,\r\n      newUpload: props.newUpload,\r\n    };\r\n  }\r\n\r\n// TODO: Clear all warnings, use recommended stuff\r\n  baseUrl = \"http://192.168.0.42:8000\";\r\n  getAllFiles = () => {\r\n    let url = `${this.baseUrl}/music/music_files`;\r\n    return fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    });\r\n  };\r\n\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    //   console.log(\"new upload caught in child component\");\r\n    //   console.log(this.props.newUpload);\r\n    //   console.log(prevProps.newUpload);\r\n    if (this.props.newUpload == true && prevProps.newUpload==false ) {\r\n      populateFiles(this);\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    populateFiles(this);\r\n  }\r\n\r\n  changeButtonLabel = (fileName) => (e) => {\r\n    console.log(\" trying to delete : \" + fileName);\r\n    this.setState({\r\n      deleteLabel: \"Delete '\" + fileName + \"'\",\r\n      deleteFileName: fileName,\r\n    });\r\n  };\r\n\r\n  deleteFile = () => {\r\n    let url = `${this.baseUrl}/music/file?filename=${this.state.deleteFileName}`;\r\n    // console.log(url);\r\n    fetch(url, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    })\r\n      // .then((result) => result.json())\r\n      .then((result) => {\r\n        this.setState({\r\n          deleteLabel: \"Select file to delete ->\",\r\n        });\r\n        alert(\"File deleted successfully\");\r\n        populateFiles(this);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert(\"Something went wrong, please select an audio file\");\r\n      });\r\n  };\r\n  render() {\r\n    // console.log(\"in render\");\r\n    const { fileDropDownList } = this.state;\r\n\r\n    return (\r\n      <Dropdown as={ButtonGroup}>\r\n        <Button variant=\"outline-danger\" onClick={this.deleteFile}>\r\n          {this.state.deleteLabel}{\" \"}\r\n        </Button>\r\n\r\n        <Dropdown.Toggle split variant=\"outline-danger\" id=\"dropdown-split-basic\" />\r\n\r\n        <Dropdown.Menu>{this.state.fileDropDownList}</Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\nfunction populateFiles(context) {\r\n  context\r\n    .getAllFiles()\r\n    .then((result) => result.json())\r\n    .then((result) => {\r\n      const dropDownButtons = result.map((fileName, index) => {\r\n        return (\r\n          <Dropdown.Item\r\n            key={index}\r\n            onClick={context.changeButtonLabel(fileName)}\r\n          >\r\n            {fileName}\r\n          </Dropdown.Item>\r\n        );\r\n      });\r\n      context.setState({\r\n        fileDropDownList: dropDownButtons,\r\n        newUpload: false,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n}\r\n\r\nexport default DeleteButton;\r\n",{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","severity":1,"message":"38","line":11,"column":8,"nodeType":"39","messageId":"40","endLine":11,"endColumn":13},{"ruleId":"37","severity":1,"message":"41","line":13,"column":8,"nodeType":"39","messageId":"40","endLine":13,"endColumn":17},{"ruleId":"42","severity":1,"message":"43","line":151,"column":26,"nodeType":"44","messageId":"45","endLine":151,"endColumn":28},{"ruleId":"42","severity":1,"message":"43","line":165,"column":40,"nodeType":"44","messageId":"45","endLine":165,"endColumn":42},{"ruleId":"42","severity":1,"message":"43","line":201,"column":47,"nodeType":"44","messageId":"45","endLine":201,"endColumn":49},{"ruleId":"42","severity":1,"message":"43","line":206,"column":46,"nodeType":"44","messageId":"45","endLine":206,"endColumn":48},{"ruleId":"42","severity":1,"message":"43","line":207,"column":45,"nodeType":"44","messageId":"45","endLine":207,"endColumn":47},{"ruleId":"42","severity":1,"message":"43","line":259,"column":55,"nodeType":"44","messageId":"45","endLine":259,"endColumn":57},{"ruleId":"42","severity":1,"message":"43","line":35,"column":30,"nodeType":"44","messageId":"45","endLine":35,"endColumn":32},{"ruleId":"42","severity":1,"message":"43","line":35,"column":60,"nodeType":"44","messageId":"45","endLine":35,"endColumn":62},{"ruleId":"37","severity":1,"message":"46","line":75,"column":13,"nodeType":"39","messageId":"40","endLine":75,"endColumn":29},"no-native-reassign",["47"],"no-negated-in-lhs",["48"],"no-unused-vars","'Table' is defined but never used.","Identifier","unusedVar","'ListGroup' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'fileDropDownList' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]